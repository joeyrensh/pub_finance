import requests
import math
from lxml import html
import random
import logging
import sys
import uuid
import json
import time
import pandas as pd
from utility.toolkit import ToolKit

logging.basicConfig(
    stream=sys.stdout,
    level=logging.INFO,
    format="%(asctime)s - %(levelname)s - %(message)s",
)
logger = logging.getLogger(__name__)

# https://www.useragents.me/#most-common-desktop-useragents-json-csv 获取最新user agent
user_agent_list = [
    "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.3",
    "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/128.0.0.0 Safari/537.3",
    "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.3",
    "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/128.0.0.0 Safari/537.36 Edg/128.0.0.",
    "Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:129.0) Gecko/20100101 Firefox/129.",
    "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36 Edg/126.0.0.",
    "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36 OPR/112.0.0.",
    "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36 Edg/127.0.0.",
    "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36 Edg/124.0.0.",
    "Mozilla/5.0 (X11; Linux x86_64; rv:109.0) Gecko/20100101 Firefox/113.",
    "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:129.0) Gecko/20100101 Firefox/129.",
    "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/128.0.0.0 Safari/537.3",
    "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.14"
    "Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.10",
    "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.0.0 Safari/537.3",
    "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/129.0.0.0 Safari/537.36",
]

headers = {
    "User-Agent": random.choice(user_agent_list),
    "Referer": "sh.ke.com",
    "Host": "sh.ke.com",
    "Connection": "keep-alive",
    "Accept": "text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7",
    "Accept-encoding": "gzip, deflate, br, zstd",
    "Accept-language": "zh-CN,zh;q=0.9",
    "Cookie": ("ke_uuid=%s;") % (uuid.uuid4()),
}


def check_proxy_anonymity(url, headers, proxy):
    try:
        s = requests.Session()
        s.proxies = proxy
        s.headers.update(headers)
        response = s.get(url, timeout=3)
        if response.status_code == 200:
            tree = html.fromstring(response.content)
            div = tree.xpath(
                '//div[@class="xiaoquListPage"]/div[@class="content"]/div[@class="leftContent"]/div[@class="resultDes clear"]/h2[@class="total fl"]/span'
            )
            if div:
                cnt = div[0].text_content().strip()
                page_no = math.ceil(int(cnt) / 30)
                print("当前获取房源量为%s,总页数为%s" % (cnt, page_no))
                print("proxy %s有效" % (proxy))
                return True
            else:
                print("proxy无效")
                return False
        else:
            print(f"Failed to retrieve data: {response.status_code}")
            return False

    except requests.exceptions.RequestException as e:
        print(f"{proxy}: {e}")
        return False
    except Exception as e:
        print(f"发生了未知错误: {e}")
        return False


# ZDY: https://api.openproxylist.xyz/http.txt
def get_proxies_listv1(url):
    proxy_url = "https://api.openproxylist.xyz/http.txt"
    count = 0
    dlist = []
    target = 1
    while count < target:
        s = requests.session()
        response = s.get(proxy_url, timeout=3)
        if response.status_code == 200:
            proxy_list = [
                "http://" + proxy
                for proxy in response.content.decode("utf-8").strip().split("\n")
            ]
            for item in proxy_list:
                proxy = {"https": item, "http": item}
                # proxy = {"https": item}
                if check_proxy_anonymity(url, headers, proxy):
                    dlist.append(item)
                    count = count + 1
                if count == target:
                    break
            break
        else:
            print("proxy get failed..")
            break
    print(dlist)


# https://getproxy.bzpl.tech/get/
def get_proxies_listv2(url):
    proxy_url = "https://getproxy.bzpl.tech/get/"
    count = 0
    dlist = []
    target = 1
    while count < target:
        s = requests.session()
        time.sleep(random.randint(1, 3))  # 随机休眠
        response = s.get(proxy_url, timeout=3)
        if response.status_code == 200:
            json_str = response.content.decode("utf-8")
            json_data = json.loads(json_str)
            proxy = {
                "https": "http://" + json_data["proxy"],
                "http": "http://" + json_data["proxy"],
            }
            if check_proxy_anonymity(url, headers, proxy):
                dlist.append("http://" + json_data["proxy"])
                count = count + 1
    print(dlist)


# 使用示例
# proxyscrape.com免费proxy: https://api.proxyscrape.com/v3/free-proxy-list/get?request=displayproxies&country=cn&protocol=http&proxy_format=protocolipport&format=text&anonymity=Elite,Anonymous&timeout=3000
# 站大爷免费proxy: https://www.zdaye.com/free/?ip=&adr=&checktime=&sleep=3&cunhuo=&dengji=&nadr=&https=1&yys=&post=&px=


def get_proxies_listv3(proxies_list, url):
    dlist = []
    t1 = ToolKit("检验中......")
    df = pd.read_csv("./houseinfo/proxies.csv", names=["proxy"], comment="#")
    pre_proxies = df["proxy"].tolist()
    for idx, item in enumerate(proxies_list):
        proxy = {"https": item, "http": item}
        if check_proxy_anonymity(url, headers, proxy):
            if item not in pre_proxies:
                print("item: %s" % (item))
                df_result = pd.DataFrame([item])
                df_result.to_csv(
                    "./houseinfo/proxies.csv", mode="a", header=False, index=False
                )
                pre_proxies.append(item)
                dlist.append(item)
        t1.progress_bar(len(proxies_list), idx)

    print(dlist)


# url = "http://sh.lianjia.com/xiaoqu/xuhui/pgpgnobp0ep100/"
url = "http://sh.ke.com/xiaoqu/xuhui/pg1cro21/"
proxies_list = [
    "http://136.226.194.151:9480",
    "http://178.63.180.104:3128",
    "http://51.159.159.73:80",
    "http://163.172.31.44:80",
    "http://145.40.97.148:10004",
    "http://144.86.187.60:3129",
    "http://37.235.53.208:3310",
    "http://165.155.228.14:9480",
    "http://165.155.230.12:9400",
    "http://209.200.246.243:9595",
    "http://165.155.228.11:9400",
    "http://165.155.228.15:9480",
    "http://165.155.229.13:9400",
    "http://165.155.228.18:9400",
    "http://185.253.32.26:8080",
    "http://165.155.229.10:9400",
    "http://165.155.230.13:9480",
    "http://51.81.46.174:3128",
    "http://165.155.228.9:9480",
    "http://165.155.230.9:9480",
    "http://165.155.230.9:9400",
    "http://165.155.228.14:9400",
    "http://165.155.228.18:9480",
    "http://165.155.229.12:9480",
    "http://165.155.228.17:9400",
    "http://165.155.228.12:9480",
    "http://165.155.229.9:9480",
    "http://178.48.68.61:18080",
    "http://165.155.228.17:9480",
    "http://165.155.230.8:9400",
    "http://165.155.229.11:9480",
    "http://165.155.230.10:9480",
    "http://165.155.228.19:9400",
    "http://165.155.228.16:9480",
    "http://165.155.229.11:9400",
    "http://165.155.229.12:9400",
    "http://165.155.229.9:9400",
    "http://165.155.228.13:9400",
    "http://165.155.228.13:9480",
    "http://165.155.230.11:9400",
    "http://165.155.228.9:9400",
    "http://165.155.228.12:9400",
    "http://165.155.228.10:9480",
    "http://165.155.229.10:9480",
    "http://165.155.230.8:9480",
    "http://165.155.229.13:9480",
    "http://165.155.230.10:9400",
    "http://165.155.229.8:9400",
    "http://41.128.90.51:1981",
    "http://67.43.228.250:16615",
    "http://104.129.194.46:10006",
    "http://194.5.25.34:443",
    "http://37.235.53.208:9898",
    "http://104.129.194.46:11201",
    "http://209.200.246.237:9595",
    "http://176.99.2.43:1081",
    "http://165.155.228.16:9400",
    "http://72.10.160.170:26931",
    "http://165.155.228.8:9400",
    "http://183.242.69.118:3218",
    "http://104.129.194.46:11175",
    "http://165.155.228.11:9480",
    "http://165.155.228.8:9480",
    "http://77.242.98.39:8080",
    "http://91.108.130.18:3128",
    "http://217.52.247.86:1981",
    "http://27.254.99.183:8118",
    "http://94.182.40.51:3128",
    "http://198.24.187.93:8001",
    "http://72.10.164.178:8861",
    "http://152.42.178.60:9090",
    "http://152.42.170.225:9090",
    "http://67.43.227.226:7131",
    "http://45.175.239.8:999",
    "http://72.10.160.90:13047",
    "http://218.60.0.220:80",
    "http://144.86.187.59:3129",
    "http://188.166.197.129:3128",
    "http://67.43.236.18:25965",
    "http://128.199.253.195:9090",
    "http://45.71.3.50:999",
    "http://160.86.242.23:8080",
    "http://128.199.119.67:9090",
    "http://34.97.65.59:8561",
    "http://152.42.186.41:9090",
    "http://189.125.109.66:3128",
    "http://67.43.227.226:6187",
    "http://72.10.160.174:13987",
    "http://104.248.151.93:9090",
    "http://72.10.164.178:23575",
    "http://200.133.247.3:3130",
    "http://72.10.164.178:8755",
    "http://165.155.230.11:9480",
    "http://202.165.47.90:55443",
    "http://45.119.133.218:3128",
    "http://67.43.227.227:9265",
    "http://128.199.254.13:9090",
    "http://176.194.189.40:80",
    "http://72.10.160.90:10495",
    "http://72.10.160.90:2657",
    "http://116.202.113.187:60532",
    "http://146.190.80.158:9090",
    "http://34.97.45.196:8561",
    "http://15.235.153.57:8089",
    "http://67.43.228.253:11953",
    "http://35.73.28.87:3128",
    "http://72.10.164.178:9343",
    "http://67.43.236.21:17779",
    "http://116.103.26.136:3128",
    "http://177.139.195.10:3128",
    "http://72.10.160.172:29655",
    "http://72.10.164.178:8629",
    "http://39.152.55.125:1080",
    "http://72.10.160.91:15157",
    "http://67.43.236.20:4021",
    "http://91.229.28.110:3128",
    "http://67.43.227.226:14945",
    "http://159.196.66.4:3128",
    "http://34.97.72.201:8561",
    "http://198.24.187.93:50225",
    "http://34.97.68.25:8561",
    "http://34.97.149.238:8561",
    "http://41.128.90.51:1976",
    "http://72.10.160.172:11537",
    "http://72.10.164.178:23223",
    "http://111.1.61.47:3128",
    "http://78.188.230.238:3310",
    "http://165.155.228.10:9400",
    "http://165.155.230.13:9400",
    "http://67.43.236.20:2695",
    "http://72.10.160.172:11549",
    "http://34.97.52.66:8561",
    "http://80.240.55.246:3128",
    "http://67.43.227.226:7873",
    "http://72.10.160.170:12023",
    "http://67.43.227.230:10613",
    "http://116.202.113.187:60260",
    "http://144.86.187.46:3129",
    "http://116.198.36.86:8080",
    "http://34.97.192.154:8561",
    "http://67.43.227.227:25879",
    "http://165.16.5.53:1981",
    "http://8.153.12.119:3128",
    "http://67.43.228.252:2259",
    "http://67.43.236.20:6819",
    "http://72.10.160.174:20587",
    "http://34.97.67.132:8561",
    "http://72.10.160.90:2793",
    "http://103.151.223.209:8080",
    "http://67.43.227.227:27863",
    "http://179.96.28.58:80",
    "http://72.10.164.178:22051",
    "http://154.236.177.105:1976",
    "http://152.42.170.187:9090",
    "http://60.217.33.47:9999",
    "http://103.165.156.171:8090",
    "http://144.86.187.37:3129",
    "http://72.10.160.90:25563",
    "http://67.43.236.19:4959",
    "http://72.10.160.94:22909",
    "http://67.43.227.227:12015",
    "http://165.155.229.8:9480",
    "http://67.43.228.253:31645",
    "http://67.43.227.227:3335",
    "http://67.43.236.20:30269",
    "http://112.19.241.37:19999",
    "http://180.191.255.6:8081",
    "http://41.139.233.5:8080",
    "http://67.43.228.253:23071",
    "http://67.43.236.20:9449",
    "http://67.43.227.227:6901",
    "http://72.10.160.93:7403",
    "http://34.97.190.56:8561",
    "http://72.10.160.90:16311",
    "http://67.43.228.250:23311",
    "http://128.199.118.49:9090",
    "http://91.239.17.22:8080",
    "http://72.10.160.173:30241",
    "http://67.43.228.253:29729",
    "http://67.43.227.227:15537",
    "http://72.10.160.173:28915",
    "http://34.97.11.208:8561",
    "http://72.10.160.170:31653",
    "http://67.43.227.226:5127",
    "http://34.97.220.13:8561",
    "http://67.43.228.254:6701",
    "http://67.43.227.226:28485",
    "http://72.10.160.171:4751",
    "http://67.43.236.20:5683",
    "http://72.10.164.178:31949",
    "http://72.10.164.178:22925",
    "http://103.193.145.33:8080",
    "http://51.158.173.222:3128",
    "http://67.43.228.250:8957",
    "http://72.10.160.90:31987",
    "http://67.43.227.227:11229",
    "http://34.97.46.98:8561",
    "http://122.2.48.121:8080",
    "http://67.43.227.227:3931",
    "http://165.155.230.12:9480",
    "http://72.10.164.178:31221",
    "http://67.43.227.227:26879",
    "http://144.86.187.55:3129",
    "http://103.56.157.223:8181",
    "http://72.10.160.91:21631",
    "http://38.156.72.132:9999",
    "http://67.43.227.228:19295",
    "http://34.97.61.13:8561",
    "http://72.10.160.92:17143",
    "http://67.43.227.227:30731",
    "http://72.10.160.90:11493",
    "http://67.43.227.228:18365",
    "http://67.43.236.20:6799",
    "http://128.199.187.36:9090",
    "http://72.10.160.90:14065",
    "http://128.199.113.85:9090",
    "http://72.10.160.94:17103",
    "http://36.93.130.219:66",
    "http://23.162.160.1:16099",
    "http://67.43.228.252:13875",
    "http://72.10.160.92:21389",
    "http://67.43.228.250:7631",
    "http://38.156.75.61:8080",
    "http://72.10.160.92:2189",
    "http://103.80.231.130:8080",
    "http://161.34.35.245:3128",
    "http://67.43.227.227:1119",
    "http://203.138.144.132:3128",
    "http://67.43.227.228:7693",
    "http://34.97.57.4:8561",
    "http://67.43.236.18:17779",
    "http://67.43.228.250:15335",
    "http://161.34.40.112:3128",
    "http://72.10.164.178:1367",
    "http://41.86.252.90:443",
    "http://161.34.40.110:3128",
    "http://162.240.154.26:3128",
    "http://164.70.64.241:3128",
    "http://72.10.160.91:2233",
    "http://114.130.153.46:58080",
    "http://103.220.206.138:59417",
    "http://44.227.181.1:3128",
    "http://67.43.236.20:3669",
    "http://67.43.227.227:8495",
    "http://45.231.220.78:999",
    "http://165.155.228.19:9480",
    "http://67.43.236.20:27399",
    "http://67.43.236.20:2157",
    "http://72.10.164.178:8563",
    "http://67.43.227.227:6533",
    "http://72.10.160.170:17373",
    "http://72.10.164.178:2163",
    "http://72.10.160.170:30737",
    "http://67.43.227.227:20427",
    "http://34.97.229.206:8561",
    "http://177.93.40.57:999",
    "http://103.103.144.163:8888",
    "http://103.176.96.140:8082",
    "http://72.10.160.173:22079",
    "http://103.133.26.107:8181",
    "http://67.43.236.20:24105",
    "http://123.126.158.50:80",
    "http://175.100.91.80:8080",
    "http://72.10.164.178:29021",
    "http://77.235.31.24:8080",
    "http://103.184.54.3:8080",
    "http://103.166.32.215:1111",
    "http://72.10.160.93:26977",
    "http://72.10.160.90:5195",
    "http://202.180.20.66:8080",
    "http://67.43.228.253:17209",
    "http://62.201.251.217:8585",
    "http://88.225.212.143:3310",
    "http://103.169.38.118:8080",
    "http://161.34.40.34:3128",
    "http://117.1.89.48:5101",
    "http://67.43.227.227:14747",
    "http://114.130.153.70:58080",
    "http://152.70.235.185:9002",
    "http://103.171.244.45:8088",
    "http://103.46.8.11:8088",
    "http://144.86.187.40:3129",
    "http://212.231.230.141:20500",
    "http://34.97.176.53:8561",
    "http://103.247.23.72:7777",
    "http://178.34.190.6:8080",
    "http://187.251.224.25:8081",
    "http://45.70.236.193:999",
    "http://67.43.228.253:32793",
    "http://121.41.67.116:8080",
    "http://72.10.160.94:21493",
    "http://91.108.130.111:32650",
    "http://67.43.236.20:21415",
    "http://67.43.236.20:23003",
    "http://103.67.84.78:8085",
    "http://72.10.160.93:17065",
    "http://27.76.164.50:5101",
    "http://72.10.160.91:10399",
    "http://72.10.160.172:20115",
    "http://67.43.228.251:25901",
    "http://72.10.160.90:21961",
    "http://120.55.183.157:3129",
    "http://67.43.227.227:2711",
    "http://103.160.182.77:8080",
    "http://103.189.197.75:8181",
    "http://67.43.228.253:32617",
    "http://67.43.227.228:11157",
    "http://111.1.61.49:3128",
    "http://128.199.187.46:9090",
    "http://67.43.227.227:9463",
    "http://12.88.29.66:9080",
    "http://200.10.28.217:8083",
    "http://67.43.228.252:14495",
    "http://72.10.160.170:7097",
    "http://67.43.227.228:1915",
    "http://128.199.121.61:9090",
    "http://175.137.10.254:8081",
    "http://72.10.160.170:2195",
    "http://155.232.186.50:3128",
    "http://5.56.124.176:6734",
    "http://181.49.122.78:999",
    "http://38.45.33.130:999",
    "http://34.97.58.253:8561",
    "http://93.91.112.247:41258",
    "http://161.34.34.169:3128",
    "http://144.86.187.35:3129",
    "http://41.216.186.131:10001",
    "http://155.93.96.210:8080",
    "http://202.62.62.29:8080",
    "http://67.43.236.20:27799",
    "http://67.43.227.227:2639",
    "http://45.22.209.157:8888",
    "http://189.203.181.34:8080",
    "http://103.165.155.67:1111",
    "http://72.10.160.170:21565",
    "http://103.125.51.25:8080",
    "http://176.9.238.155:16379",
    "http://161.34.35.226:3128",
    "http://181.204.21.122:999",
    "http://67.43.236.20:8747",
    "http://103.44.19.220:3127",
    "http://39.62.3.7:3127",
    "http://72.10.160.90:13895",
    "http://37.211.17.145:8080",
    "http://102.213.84.250:8080",
    "http://38.52.220.171:999",
    "http://116.80.84.43:3128",
    "http://161.34.40.33:3128",
    "http://143.255.111.112:3128",
    "http://67.43.228.253:15525",
    "http://186.96.97.205:999",
    "http://67.43.227.227:28089",
    "http://67.43.228.253:17741",
    "http://78.189.212.252:3310",
    "http://103.130.130.179:8080",
    "http://45.202.198.173:3128",
    "http://67.43.227.227:30299",
    "http://45.185.162.194:999",
    "http://45.70.85.33:58080",
    "http://103.209.38.132:81",
    "http://74.48.114.199:8118",
    "http://103.147.98.122:8080",
    "http://72.10.160.171:30919",
    "http://72.10.160.90:9411",
    "http://114.9.27.190:3125",
    "http://72.10.160.94:21631",
    "http://67.43.227.227:19159",
    "http://67.43.227.227:18911",
    "http://112.198.179.42:8082",
    "http://118.175.30.26:80",
    "http://161.34.68.133:3128",
    "http://35.178.104.4:3128",
    "http://72.10.164.178:25829",
    "http://67.43.236.18:5871",
    "http://67.43.227.226:24013",
    "http://212.110.188.216:34405",
    "http://103.234.28.50:8181",
    "http://191.243.46.30:43241",
    "http://103.1.50.17:3125",
    "http://144.86.187.61:3129",
    "http://144.86.187.34:3129",
    "http://129.226.193.16:3128",
    "http://67.43.236.20:5871",
    "http://67.43.228.254:21965",
    "http://179.189.50.160:80",
    "http://34.97.78.175:8561",
    "http://217.29.209.27:9999",
    "http://82.180.146.44:3128",
    "http://117.176.129.7:3128",
    "http://18.169.83.87:3128",
    "http://103.112.212.57:82",
    "http://200.170.253.122:8087",
    "http://67.43.227.227:9545",
    "http://103.163.244.49:82",
    "http://118.27.111.97:80",
    "http://103.41.250.97:8080",
    "http://95.78.161.82:8080",
    "http://147.45.74.178:3128",
    "http://192.9.237.224:3128",
    "http://186.225.19.57:8080",
    "http://47.243.55.21:8118",
    "http://72.10.160.90:4601",
    "http://103.156.15.241:8080",
    "http://177.11.190.84:8080",
    "http://34.100.188.246:8888",
    "http://109.201.13.190:8080",
    "http://27.147.218.162:8080",
    "http://103.162.54.117:8080",
    "http://67.43.236.20:21939",
    "http://38.183.146.214:8090",
    "http://67.43.236.22:28345",
    "http://103.144.18.49:8080",
    "http://72.10.164.178:18217",
    "http://177.68.149.122:8080",
    "http://207.230.8.65:999",
    "http://72.10.164.178:1941",
    "http://192.248.95.1:3128",
    "http://67.43.236.18:29389",
    "http://103.163.134.95:8090",
    "http://45.202.198.252:3128",
    "http://67.43.236.20:27279",
    "http://103.157.79.18:8080",
    "http://109.195.98.207:80",
    "http://124.83.110.227:8082",
    "http://161.34.40.117:3128",
    "http://45.202.198.227:3128",
    "http://45.231.170.137:999",
    "http://103.247.23.189:8080",
    "http://103.174.236.96:8080",
    "http://67.43.228.251:4977",
    "http://34.97.247.98:8561",
    "http://72.10.160.170:3349",
    "http://67.43.236.20:19527",
    "http://72.10.160.174:13589",
    "http://103.162.55.2:18080",
    "http://177.54.229.124:9292",
    "http://103.170.131.42:8080",
    "http://67.43.236.20:21565",
    "http://222.124.202.144:8080",
    "http://179.125.51.54:27234",
    "http://213.168.221.155:8080",
    "http://103.156.140.203:8080",
    "http://161.49.91.13:1337",
    "http://72.10.160.90:2937",
    "http://103.102.12.89:8081",
    "http://37.27.92.42:3128",
    "http://177.221.44.113:49999",
    "http://39.62.4.164:8080",
    "http://94.131.203.7:8080",
    "http://103.160.182.171:8080",
    "http://147.75.92.251:9443",
    "http://72.10.164.178:14521",
    "http://187.32.246.82:3128",
    "http://103.172.70.138:1111",
    "http://190.110.37.11:999",
    "http://72.10.160.90:2463",
    "http://161.34.35.175:3128",
    "http://111.1.61.52:3128",
    "http://103.93.93.146:8082",
    "http://103.84.208.170:8080",
    "http://190.121.128.217:999",
    "http://43.134.33.254:3128",
    "http://185.82.98.73:99",
    "http://103.153.142.18:8080",
    "http://45.173.7.10:999",
    "http://103.172.42.177:1111",
    "http://103.84.177.246:8084",
    "http://113.118.159.127:9000",
    "http://157.10.7.84:3128",
    "http://160.154.163.18:8080",
    "http://103.165.157.167:8080",
    "http://103.48.68.171:83",
    "http://45.6.102.31:8080",
    "http://171.244.60.55:8080",
    "http://193.233.84.93:1080",
    "http://131.0.207.140:8080",
    "http://103.237.144.232:1311",
    "http://72.10.164.178:16867",
    "http://58.19.22.61:3128",
    "http://45.6.102.24:8080",
    "http://200.24.159.148:999",
    "http://129.222.202.169:80",
    "http://67.43.227.228:22499",
    "http://163.47.39.37:8080",
    "http://188.132.222.45:8080",
    "http://177.93.36.74:3128",
    "http://49.48.68.135:8080",
    "http://161.34.40.109:3128",
    "http://103.137.111.65:7777",
    "http://177.12.107.167:443",
    "http://45.202.198.4:3128",
    "http://144.86.187.57:3129",
    "http://212.110.188.193:34409",
    "http://120.28.220.26:8080",
    "http://67.43.236.18:29439",
    "http://177.54.229.121:9292",
    "http://116.212.140.118:8080",
    "http://103.159.194.249:8080",
    "http://36.91.155.42:8080",
    "http://45.76.71.170:8118",
    "http://113.161.59.136:8080",
    "http://5.58.97.89:8080",
    "http://140.227.228.202:10101",
    "http://38.71.10.64:8080",
    "http://123.112.210.180:9000",
    "http://103.188.173.159:1234",
    "http://35.161.172.205:1080",
    "http://103.70.93.78:8080",
    "http://72.10.160.173:27529",
    "http://188.132.222.55:8080",
    "http://103.234.35.150:7777",
    "http://124.107.204.61:8082",
    "http://72.10.160.171:16605",
    "http://103.199.117.162:8080",
    "http://203.176.129.85:8080",
    "http://112.198.200.136:8082",
    "http://160.22.6.140:8080",
    "http://103.179.182.155:8090",
    "http://45.166.93.27:999",
    "http://188.132.222.13:8080",
    "http://103.179.46.49:6789",
    "http://115.147.20.176:8082",
    "http://157.20.144.138:8181",
    "http://27.72.141.201:10004",
    "http://34.97.31.37:8561",
    "http://67.43.227.227:29597",
    "http://14.103.21.34:8081",
    "http://103.153.246.134:3125",
    "http://38.45.32.131:999",
    "http://200.32.51.179:8080",
    "http://103.152.238.180:8085",
    "http://47.94.207.215:3128",
    "http://202.152.142.186:8080",
    "http://34.97.243.172:8561",
    "http://105.113.2.82:8080",
    "http://103.164.223.53:8080",
    "http://27.64.48.10:5102",
    "http://179.1.142.129:8080",
    "http://103.25.79.178:4700",
    "http://103.169.186.151:3125",
    "http://80.240.55.242:3128",
    "http://67.43.227.226:6289",
    "http://89.168.49.75:3128",
    "http://136.228.160.250:8080",
    "http://180.180.100.109:8080",
    "http://36.95.3.243:8080",
    "http://103.148.195.22:8080",
    "http://67.43.228.253:21335",
    "http://72.10.160.173:16301",
    "http://95.170.219.13:8085",
    "http://161.34.40.113:3128",
    "http://200.24.154.222:999",
    "http://103.41.88.182:83",
    "http://144.86.187.47:3129",
    "http://181.115.200.59:3128",
    "http://36.92.44.82:8080",
    "http://34.97.154.179:8660",
    "http://67.43.236.20:7643",
    "http://144.86.187.36:3129",
    "http://43.247.33.60:8080",
    "http://144.86.187.38:3129",
    "http://103.169.254.155:3127",
    "http://72.10.164.178:31415",
    "http://103.25.110.222:8080",
    "http://38.183.209.33:8080",
    "http://182.252.70.220:8082",
    "http://72.10.160.171:19277",
    "http://103.156.16.245:8080",
    "http://103.59.45.89:8080",
    "http://190.107.237.15:999",
    "http://45.70.236.194:999",
    "http://51.159.75.249:3128",
    "http://45.202.198.239:3128",
    "http://38.183.144.108:8080",
    "http://213.97.158.42:3128",
    "http://178.212.51.145:41258",
    "http://103.36.8.55:8181",
    "http://190.239.220.94:999",
    "http://118.70.12.171:53281",
    "http://45.202.198.248:3128",
    "http://182.93.75.77:8080",
    "http://103.69.20.52:58080",
]
get_proxies_listv3(proxies_list, url)
# get_proxies_listv2(url)
# get_proxies_listv1(url)
