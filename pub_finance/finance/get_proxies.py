import requests
import math
from lxml import html
import random
import logging
import sys
import uuid
import json
import time
import pandas as pd

logging.basicConfig(
    stream=sys.stdout,
    level=logging.INFO,
    format="%(asctime)s - %(levelname)s - %(message)s",
)
logger = logging.getLogger(__name__)

# https://www.useragents.me/#most-common-desktop-useragents-json-csv 获取最新user agent
user_agent_list = [
    "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.3",
    "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/128.0.0.0 Safari/537.3",
    "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.3",
    "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/128.0.0.0 Safari/537.36 Edg/128.0.0.",
    "Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:129.0) Gecko/20100101 Firefox/129.",
    "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36 Edg/126.0.0.",
    "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36 OPR/112.0.0.",
    "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36 Edg/127.0.0.",
    "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36 Edg/124.0.0.",
    "Mozilla/5.0 (X11; Linux x86_64; rv:109.0) Gecko/20100101 Firefox/113.",
    "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:129.0) Gecko/20100101 Firefox/129.",
    "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/128.0.0.0 Safari/537.3",
    "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.14"
    "Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.10",
    "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.0.0 Safari/537.3",
    "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/129.0.0.0 Safari/537.36",
]

headers = {
    "User-Agent": random.choice(user_agent_list),
    "Referer": "sh.ke.com",
    "Host": "sh.ke.com",
    "Connection": "keep-alive",
    "Accept": "text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7",
    "Accept-encoding": "gzip, deflate, br, zstd",
    "Accept-language": "zh-CN,zh;q=0.9",
    "Cookie": ("ke_uuid=%s;") % (uuid.uuid4()),
}


def check_proxy_anonymity(url, headers, proxy):
    try:
        s = requests.Session()
        s.proxies = proxy
        s.headers.update(headers)
        response = s.get(url, timeout=3)
        if response.status_code == 200:
            tree = html.fromstring(response.content)
            div = tree.xpath(
                '//div[@class="xiaoquListPage"]/div[@class="content"]/div[@class="leftContent"]/div[@class="resultDes clear"]/h2[@class="total fl"]/span'
            )
            if div:
                cnt = div[0].text_content().strip()
                page_no = math.ceil(int(cnt) / 30)
                print("当前获取房源量为%s,总页数为%s" % (cnt, page_no))
                print("proxy %s有效" % (proxy))
                return True
            else:
                print("proxy无效")
                return False
        else:
            print(f"Failed to retrieve data: {response.status_code}")
            return False

    except requests.exceptions.RequestException as e:
        print(f"{proxy}: {e}")
        return False
    except Exception as e:
        print(f"发生了未知错误: {e}")
        return False


# ZDY: https://api.openproxylist.xyz/http.txt
def get_proxies_listv1(url):
    proxy_url = "https://api.openproxylist.xyz/http.txt"
    count = 0
    dlist = []
    target = 1
    while count < target:
        s = requests.session()
        response = s.get(proxy_url, timeout=3)
        if response.status_code == 200:
            proxy_list = [
                "http://" + proxy
                for proxy in response.content.decode("utf-8").strip().split("\n")
            ]
            for item in proxy_list:
                proxy = {"https": item, "http": item}
                # proxy = {"https": item}
                if check_proxy_anonymity(url, headers, proxy):
                    dlist.append(item)
                    count = count + 1
                if count == target:
                    break
            break
        else:
            print("proxy get failed..")
            break
    print(dlist)


# https://getproxy.bzpl.tech/get/
def get_proxies_listv2(url):
    proxy_url = "https://getproxy.bzpl.tech/get/"
    count = 0
    dlist = []
    target = 1
    while count < target:
        s = requests.session()
        time.sleep(random.randint(1, 3))  # 随机休眠
        response = s.get(proxy_url, timeout=3)
        if response.status_code == 200:
            json_str = response.content.decode("utf-8")
            json_data = json.loads(json_str)
            proxy = {
                "https": "http://" + json_data["proxy"],
                "http": "http://" + json_data["proxy"],
            }
            if check_proxy_anonymity(url, headers, proxy):
                dlist.append("http://" + json_data["proxy"])
                count = count + 1
    print(dlist)


# 使用示例
# proxyscrape.com免费proxy: https://api.proxyscrape.com/v3/free-proxy-list/get?request=displayproxies&country=cn&protocol=http&proxy_format=protocolipport&format=text&anonymity=Elite,Anonymous&timeout=3000
# 站大爷免费proxy: https://www.zdaye.com/free/?ip=&adr=&checktime=&sleep=3&cunhuo=&dengji=&nadr=&https=1&yys=&post=&px=


def get_proxies_listv3(proxies_list, url):
    dlist = []

    for item in proxies_list:
        proxy = {"https": item, "http": item}
        if check_proxy_anonymity(url, headers, proxy):
            dlist.append(item)

    df = pd.read_csv("./houseinfo/proxies.csv", names=["proxy"], comment="#")
    pre_proxies = df["proxy"].tolist()
    filtered_list = [item for item in dlist if item not in pre_proxies]
    if len(filtered_list) > 0:
        df_result = pd.DataFrame(filtered_list)
        df_result.to_csv("./houseinfo/proxies.csv", mode="a", header=False, index=False)
    print(dlist)


# url = "http://sh.lianjia.com/xiaoqu/xuhui/pgpgnobp0ep100/"
url = "http://sh.ke.com/xiaoqu/xuhui/pg1cro21/"
proxies_list = [
    "http://136.226.194.151:9480",
    "http://145.40.97.148:10001",
    "http://109.71.240.93:8118",
    "http://146.190.234.198:3128",
    "http://4.159.61.189:8080",
    "http://192.99.169.19:8452",
    "http://165.155.230.11:9480",
    "http://165.155.229.13:9480",
    "http://165.155.228.9:9400",
    "http://165.155.230.8:9480",
    "http://165.155.230.11:9400",
    "http://165.155.229.9:9400",
    "http://165.155.228.13:9400",
    "http://165.155.228.13:9480",
    "http://165.155.230.13:9400",
    "http://165.155.229.10:9480",
    "http://165.155.228.8:9480",
    "http://93.125.48.54:3128",
    "http://165.155.229.10:9400",
    "http://165.155.228.8:9400",
    "http://165.155.229.8:9480",
    "http://165.155.230.10:9400",
    "http://165.155.229.9:9480",
    "http://165.155.230.12:9400",
    "http://165.155.229.13:9400",
    "http://165.155.228.18:9400",
    "http://37.16.29.249:3128",
    "http://165.155.228.10:9480",
    "http://165.155.230.9:9400",
    "http://165.155.228.16:9480",
    "http://165.155.230.9:9480",
    "http://165.155.228.11:9400",
    "http://165.155.229.8:9400",
    "http://165.155.228.19:9480",
    "http://165.155.228.11:9480",
    "http://165.155.228.12:9480",
    "http://165.155.230.10:9480",
    "http://165.155.230.12:9480",
    "http://72.10.164.178:14319",
    "http://165.155.228.14:9400",
    "http://165.155.228.15:9480",
    "http://178.48.68.61:18080",
    "http://165.155.228.12:9400",
    "http://165.155.229.11:9400",
    "http://165.155.228.18:9480",
    "http://104.129.194.46:11201",
    "http://165.155.229.12:9480",
    "http://165.155.228.16:9400",
    "http://104.129.194.46:10013",
    "http://165.155.230.8:9400",
    "http://165.155.230.13:9480",
    "http://104.129.194.46:10089",
    "http://104.129.194.46:9480",
    "http://67.43.228.250:20977",
    "http://72.10.160.93:1719",
    "http://165.155.228.9:9480",
    "http://72.10.160.172:1365",
    "http://20.204.214.23:3129",
    "http://165.155.228.14:9480",
    "http://165.155.228.19:9400",
    "http://165.155.229.12:9400",
    "http://139.84.151.30:3129",
    "http://72.10.160.90:12991",
    "http://72.10.164.178:22465",
    "http://72.10.164.178:16713",
    "http://103.209.38.132:81",
    "http://5.160.237.190:3128",
    "http://67.43.227.227:8711",
    "http://212.83.143.97:22430",
    "http://72.10.164.178:19217",
    "http://67.43.227.228:13259",
    "http://45.175.239.8:999",
    "http://165.155.229.11:9480",
    "http://67.43.227.227:27297",
    "http://67.43.227.227:12025",
    "http://67.43.228.250:10007",
    "http://154.90.48.21:9090",
    "http://72.10.160.90:25291",
    "http://185.82.98.73:99",
    "http://128.199.187.46:9090",
    "http://146.190.80.158:9090",
    "http://128.199.113.85:9090",
    "http://104.248.151.93:9090",
    "http://162.240.154.26:3128",
    "http://160.86.242.23:8080",
    "http://72.10.160.90:24719",
    "http://67.43.227.227:11951",
    "http://128.199.187.36:9090",
    "http://128.199.253.195:9090",
    "http://72.10.164.178:10577",
    "http://72.10.164.178:13495",
    "http://72.10.160.171:8073",
    "http://43.134.68.153:3128",
    "http://58.19.22.61:3128",
    "http://43.134.33.254:3128",
    "http://152.42.186.41:9090",
    "http://72.10.160.173:21219",
    "http://39.152.55.125:1080",
    "http://128.199.254.13:9090",
    "http://72.10.160.90:1715",
    "http://171.213.195.169:1080",
    "http://85.210.84.11:8080",
    "http://77.242.98.39:8080",
    "http://72.10.160.170:14719",
    "http://67.43.236.20:16721",
    "http://72.10.160.90:5445",
    "http://123.126.158.50:80",
    "http://67.43.228.253:28741",
    "http://72.10.160.93:2245",
    "http://67.43.227.227:26481",
    "http://20.26.249.29:8080",
    "http://67.43.228.253:21401",
    "http://165.155.228.10:9400",
    "http://46.252.35.91:8080",
    "http://72.10.160.92:30145",
    "http://78.187.15.92:3310",
    "http://72.10.160.90:1057",
    "http://67.43.227.227:22709",
    "http://152.70.235.185:9002",
    "http://89.135.59.65:8090",
    "http://67.43.236.19:29403",
    "http://218.60.0.220:80",
    "http://72.10.160.90:23463",
    "http://171.245.123.58:5002",
    "http://72.10.164.178:12955",
    "http://72.10.160.91:1441",
    "http://67.43.236.22:19317",
    "http://72.10.164.178:15623",
    "http://67.43.227.226:12863",
    "http://67.43.228.250:3623",
    "http://45.70.203.122:999",
    "http://152.42.170.225:9090",
    "http://67.43.227.227:25267",
    "http://185.253.32.26:8080",
    "http://92.45.196.83:3310",
    "http://67.43.228.251:24397",
    "http://78.189.212.252:3310",
    "http://67.43.228.252:4101",
    "http://121.239.40.158:8081",
    "http://103.125.16.51:8080",
    "http://41.254.48.54:19333",
    "http://72.10.160.170:11347",
    "http://72.10.160.91:25201",
    "http://67.43.227.227:25517",
    "http://67.43.227.226:1279",
    "http://172.96.171.125:8095",
    "http://35.176.148.8:3128",
    "http://67.43.228.250:21897",
    "http://45.166.93.27:999",
    "http://67.43.236.18:5885",
    "http://67.43.236.20:22461",
    "http://103.101.193.46:1111",
    "http://72.10.160.93:18631",
    "http://189.240.60.164:9090",
    "http://67.43.228.250:28875",
    "http://67.43.227.227:6149",
    "http://152.42.178.60:9090",
    "http://67.43.228.252:3623",
    "http://67.43.228.252:12569",
    "http://67.43.227.227:8969",
    "http://67.43.227.227:26179",
    "http://72.10.164.178:23295",
    "http://128.199.121.61:9090",
    "http://67.43.228.253:9913",
    "http://103.36.11.169:8181",
    "http://67.43.228.254:20871",
    "http://67.43.227.227:18543",
    "http://190.13.85.82:999",
    "http://38.45.33.130:999",
    "http://78.188.230.238:3310",
    "http://37.228.136.149:58080",
    "http://67.43.228.253:15729",
    "http://67.43.228.250:20871",
    "http://72.10.164.178:25983",
    "http://72.10.164.178:19293",
    "http://72.10.160.172:24781",
    "http://52.13.248.29:1080",
    "http://67.43.227.228:17269",
    "http://128.199.118.49:9090",
    "http://35.73.28.87:3128",
    "http://72.10.164.178:27299",
    "http://161.34.35.175:3128",
    "http://161.34.40.34:3128",
    "http://67.43.227.228:25517",
    "http://88.225.212.143:3310",
    "http://67.43.236.20:9785",
    "http://111.89.146.125:3128",
    "http://202.152.142.186:8080",
    "http://72.10.160.170:19811",
    "http://67.43.227.227:10717",
    "http://67.43.228.250:3013",
    "http://103.179.84.117:8080",
    "http://72.10.164.178:25779",
    "http://202.162.213.182:8080",
    "http://67.43.227.227:31785",
    "http://120.28.222.2:8081",
    "http://183.242.69.118:3218",
    "http://202.169.229.139:53281",
    "http://54.212.22.168:3128",
    "http://72.10.164.178:3907",
    "http://4.158.61.222:8080",
    "http://198.24.188.138:37200",
    "http://103.147.134.238:1111",
    "http://18.135.211.182:3128",
    "http://190.107.232.138:999",
    "http://72.10.164.178:3685",
    "http://45.180.140.241:8080",
    "http://102.0.14.82:8082",
    "http://38.156.74.48:8080",
    "http://161.34.40.117:3128",
    "http://20.26.97.150:8080",
    "http://72.10.160.91:1451",
    "http://67.43.228.253:28115",
    "http://72.10.164.178:7893",
    "http://72.10.164.178:21235",
    "http://154.236.179.229:1976",
    "http://67.43.228.253:20475",
    "http://60.217.33.47:9999",
    "http://58.147.186.29:3125",
    "http://88.248.113.25:3310",
    "http://67.43.236.20:16691",
    "http://103.188.173.153:8080",
    "http://202.40.179.34:9090",
    "http://67.43.227.227:17533",
    "http://185.82.98.249:8092",
    "http://103.248.9.206:3127",
    "http://72.10.160.92:18565",
    "http://72.10.160.172:27915",
    "http://103.183.56.3:8080",
    "http://128.199.119.67:9090",
    "http://103.191.165.4:7777",
    "http://67.43.227.227:14095",
    "http://67.43.236.20:6985",
    "http://103.148.39.10:83",
    "http://67.43.227.227:1891",
    "http://72.10.160.90:30145",
    "http://85.210.84.189:8080",
    "http://67.43.228.253:23303",
    "http://103.83.178.222:8080",
    "http://203.81.75.202:8080",
    "http://67.43.228.252:6397",
    "http://170.238.104.213:8080",
    "http://38.156.72.18:8080",
    "http://67.43.236.20:15619",
    "http://77.41.146.29:8080",
    "http://67.43.227.227:15075",
    "http://45.238.204.69:8080",
    "http://72.10.164.178:31249",
    "http://67.43.228.253:23905",
    "http://67.43.228.253:15171",
    "http://67.43.227.227:28995",
    "http://103.160.182.171:8080",
    "http://185.189.199.75:23500",
    "http://103.69.20.42:58080",
    "http://67.43.228.250:3025",
    "http://67.43.227.227:8849",
    "http://103.83.97.11:8090",
    "http://67.43.236.21:11829",
    "http://72.10.164.178:2881",
    "http://103.169.189.174:3125",
    "http://122.54.100.121:8082",
    "http://160.248.7.207:3128",
    "http://161.34.34.169:3128",
    "http://103.245.16.133:8080",
    "http://72.10.164.178:24513",
    "http://200.114.87.2:8080",
    "http://1.10.227.16:8080",
    "http://154.90.49.84:9090",
    "http://103.70.123.6:8085",
    "http://111.89.146.129:3128",
    "http://139.255.33.244:3128",
    "http://161.34.35.226:3128",
    "http://67.43.227.227:32345",
    "http://190.95.209.181:999",
    "http://72.10.160.170:18469",
    "http://31.133.0.163:33033",
    "http://103.226.232.206:3125",
    "http://101.108.14.90:8080",
    "http://72.10.164.178:32661",
    "http://67.43.236.20:28813",
    "http://103.153.246.46:8080",
    "http://72.10.160.172:21413",
    "http://103.46.10.100:8080",
    "http://103.156.140.203:8080",
    "http://191.102.248.5:8085",
    "http://67.43.228.251:26403",
    "http://77.50.100.180:8080",
    "http://91.202.72.105:8080",
    "http://176.99.2.43:1081",
    "http://80.78.64.70:8080",
    "http://103.155.246.180:8081",
    "http://118.179.84.218:8080",
    "http://119.93.43.16:8082",
    "http://94.61.57.219:8118",
    "http://72.10.160.173:14719",
    "http://203.190.46.127:8090",
    "http://72.10.160.170:7501",
    "http://103.156.15.244:8080",
    "http://116.80.60.128:3128",
    "http://41.128.90.50:1981",
    "http://72.10.164.178:18023",
    "http://117.6.104.235:5102",
    "http://116.203.58.26:8123",
    "http://179.60.235.250:8094",
    "http://193.183.217.5:8118",
    "http://189.240.60.169:9090",
    "http://79.174.188.153:8080",
    "http://165.0.136.30:8080",
    "http://103.130.5.34:8080",
    "http://119.2.45.51:8080",
    "http://200.76.42.197:999",
    "http://189.240.60.171:9090",
    "http://103.179.182.211:8080",
    "http://45.133.107.246:81",
    "http://72.10.164.178:8079",
    "http://103.90.75.103:8888",
    "http://67.43.227.226:2955",
    "http://163.47.210.74:8080",
    "http://43.153.237.252:3128",
    "http://43.134.229.98:3128",
    "http://168.197.182.137:8080",
    "http://103.26.110.125:84",
    "http://72.10.164.178:33171",
    "http://103.173.138.252:8080",
    "http://103.48.68.70:83",
    "http://103.162.16.47:8080",
    "http://157.10.97.103:8080",
    "http://185.200.37.248:8080",
    "http://121.101.134.214:1111",
    "http://173.197.98.162:8111",
    "http://113.161.187.190:8080",
    "http://103.125.38.50:8080",
    "http://5.200.70.185:8080",
    "http://103.157.117.41:8080",
    "http://103.153.62.245:8181",
    "http://103.181.168.202:8080",
    "http://67.43.228.251:26191",
    "http://181.10.123.156:999",
    "http://122.2.48.121:8080",
    "http://189.124.85.77:33333",
    "http://103.145.150.26:8080",
    "http://182.253.112.194:8080",
    "http://92.51.126.42:8080",
    "http://81.91.139.76:80",
    "http://45.4.148.70:8080",
    "http://95.170.219.13:8085",
    "http://72.10.164.178:20035",
    "http://129.222.202.169:80",
    "http://103.48.68.138:82",
    "http://102.129.33.33:8080",
    "http://67.43.236.20:4351",
    "http://67.43.236.20:22463",
    "http://103.109.237.18:8080",
    "http://41.128.72.150:1981",
    "http://181.78.95.50:999",
    "http://103.107.85.249:1111",
    "http://43.133.59.220:3128",
    "http://202.93.244.38:8080",
    "http://103.156.17.35:8181",
    "http://202.145.3.242:8080",
    "http://36.88.123.218:41890",
    "http://202.93.244.242:8080",
    "http://112.198.179.17:8082",
    "http://45.236.106.244:999",
    "http://148.72.165.7:30118",
    "http://72.10.164.178:26735",
    "http://124.121.177.184:8080",
    "http://122.3.45.189:8082",
    "http://182.160.103.220:8090",
    "http://103.147.128.97:84",
    "http://39.62.3.7:3127",
    "http://72.10.160.172:26401",
    "http://170.81.210.249:8080",
    "http://190.121.145.115:999",
    "http://202.93.244.98:8080",
    "http://103.76.151.133:8181",
    "http://103.154.25.94:8080",
    "http://72.10.160.174:8197",
    "http://103.159.195.33:3128",
    "http://103.187.113.165:3125",
    "http://103.171.156.134:8080",
    "http://112.198.130.51:8082",
    "http://62.74.173.146:8080",
    "http://123.108.66.149:8080",
    "http://103.231.239.137:58080",
    "http://116.80.82.214:3128",
    "http://50.235.247.114:8085",
    "http://177.93.45.225:999",
    "http://41.216.186.131:10001",
    "http://114.130.153.58:58080",
    "http://72.10.160.90:17047",
    "http://103.239.253.118:58080",
    "http://188.132.152.11:8080",
    "http://103.248.9.154:8080",
    "http://72.10.164.178:24205",
    "http://72.10.164.178:19891",
    "http://103.155.166.93:8181",
    "http://203.150.113.248:8080",
    "http://80.87.213.45:8080",
    "http://136.233.136.41:48976",
    "http://210.79.30.157:8080",
    "http://138.204.20.160:8080",
    "http://36.91.68.150:8080",
    "http://103.166.8.238:1080",
    "http://103.124.136.59:999",
    "http://67.43.227.228:17977",
    "http://72.10.160.172:2799",
    "http://67.43.228.253:3025",
    "http://45.238.110.144:8080",
    "http://179.189.120.147:3128",
    "http://103.173.230.88:8080",
    "http://212.252.72.106:3128",
    "http://103.159.194.131:8080",
    "http://46.166.165.33:4002",
    "http://180.241.228.236:8080",
    "http://129.205.198.122:8080",
    "http://103.69.20.55:58080",
    "http://67.43.228.253:5323",
    "http://185.208.102.133:8080",
    "http://38.45.45.60:999",
    "http://27.74.247.173:8080",
    "http://38.156.73.59:8080",
    "http://103.176.97.223:3127",
    "http://103.157.58.186:8080",
    "http://181.78.105.156:999",
    "http://77.105.136.28:1995",
    "http://176.32.2.193:8080",
    "http://103.48.71.58:83",
    "http://45.70.203.107:999",
    "http://38.99.101.101:3128",
    "http://38.159.229.89:999",
    "http://101.255.209.242:8080",
    "http://187.102.36.15:3128",
    "http://72.10.160.91:14843",
    "http://103.165.157.123:8085",
    "http://45.70.202.161:999",
    "http://191.97.96.86:8080",
    "http://103.57.80.28:58080",
    "http://95.214.123.199:8080",
    "http://47.251.43.115:33333",
    "http://67.43.228.251:2691",
    "http://103.147.98.122:8080",
    "http://67.43.236.19:8411",
    "http://103.48.71.50:83",
    "http://202.56.166.157:8080",
    "http://46.246.1.106:3128",
    "http://154.90.49.44:9090",
    "http://103.42.228.62:8080",
    "http://161.34.40.111:3128",
    "http://79.106.165.246:8989",
    "http://180.210.191.122:8080",
    "http://192.145.228.212:8081",
    "http://103.176.96.140:8082",
    "http://103.199.117.115:8080",
    "http://202.93.244.194:8080",
    "http://3.108.115.48:3128",
    "http://45.174.57.22:999",
    "http://45.153.165.66:999",
    "http://72.10.160.90:24589",
    "http://45.167.93.234:999",
    "http://179.60.235.249:8094",
    "http://103.116.82.135:8080",
    "http://67.43.236.20:31115",
    "http://190.119.90.114:8080",
    "http://188.132.150.87:8080",
    "http://67.43.227.226:1833",
    "http://67.43.227.228:2295",
    "http://85.210.203.188:8080",
    "http://192.203.0.122:999",
    "http://112.198.179.242:8082",
    "http://103.48.71.6:84",
    "http://45.250.215.8:8080",
    "http://103.67.237.208:3128",
    "http://187.79.146.98:8080",
    "http://103.35.110.94:5020",
    "http://103.54.80.162:1111",
    "http://103.188.173.159:1234",
    "http://103.48.70.57:82",
    "http://103.169.254.155:3127",
    "http://27.147.140.129:58080",
    "http://103.184.167.26:8080",
    "http://103.190.171.241:1080",
    "http://103.187.114.100:8082",
    "http://176.192.80.10:3128",
    "http://72.10.160.90:3737",
    "http://206.42.56.195:8080",
    "http://165.16.5.57:1981",
    "http://177.75.1.33:8080",
    "http://207.183.236.50:32185",
    "http://24.152.40.49:8080",
    "http://103.81.158.137:8080",
    "http://43.134.1.40:3128",
    "http://67.43.227.230:10717",
    "http://45.176.232.113:8080",
    "http://47.90.205.231:33333",
    "http://161.34.36.157:3128",
    "http://67.43.227.230:10367",
    "http://110.164.175.110:8080",
]
get_proxies_listv3(proxies_list, url)
# get_proxies_listv2(url)
# get_proxies_listv1(url)
