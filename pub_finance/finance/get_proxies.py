import requests
import math
from lxml import html
import random
import logging
import sys
import uuid
import json
import time
import pandas as pd

logging.basicConfig(
    stream=sys.stdout,
    level=logging.INFO,
    format="%(asctime)s - %(levelname)s - %(message)s",
)
logger = logging.getLogger(__name__)

# https://www.useragents.me/#most-common-desktop-useragents-json-csv 获取最新user agent
user_agent_list = [
    "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.3",
    "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/128.0.0.0 Safari/537.3",
    "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.3",
    "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/128.0.0.0 Safari/537.36 Edg/128.0.0.",
    "Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:129.0) Gecko/20100101 Firefox/129.",
    "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36 Edg/126.0.0.",
    "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36 OPR/112.0.0.",
    "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36 Edg/127.0.0.",
    "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36 Edg/124.0.0.",
    "Mozilla/5.0 (X11; Linux x86_64; rv:109.0) Gecko/20100101 Firefox/113.",
    "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:129.0) Gecko/20100101 Firefox/129.",
    "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/128.0.0.0 Safari/537.3",
    "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.14"
    "Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.10",
    "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.0.0 Safari/537.3",
    "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/129.0.0.0 Safari/537.36",
]

headers = {
    "User-Agent": random.choice(user_agent_list),
    "Referer": "sh.ke.com",
    "Host": "sh.ke.com",
    "Connection": "keep-alive",
    "Accept": "text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7",
    "Accept-encoding": "gzip, deflate, br, zstd",
    "Accept-language": "zh-CN,zh;q=0.9",
    "Cookie": ("ke_uuid=%s;") % (uuid.uuid4()),
}


def check_proxy_anonymity(url, headers, proxy):
    try:
        s = requests.Session()
        s.proxies = proxy
        s.headers.update(headers)
        response = s.get(url, timeout=5)
        if response.status_code == 200:
            tree = html.fromstring(response.content)
            div = tree.xpath(
                '//div[@class="xiaoquListPage"]/div[@class="content"]/div[@class="leftContent"]/div[@class="resultDes clear"]/h2[@class="total fl"]/span'
            )
            if div:
                cnt = div[0].text_content().strip()
                page_no = math.ceil(int(cnt) / 30)
                print("当前获取房源量为%s,总页数为%s" % (cnt, page_no))
                print("proxy %s有效" % (proxy))
                return True
            else:
                print("proxy无效")
                return False
        else:
            print(f"Failed to retrieve data: {response.status_code}")
            return False

    except requests.exceptions.RequestException as e:
        print(f"{proxy}: {e}")
        return False
    except Exception as e:
        print(f"发生了未知错误: {e}")
        return False


# ZDY: https://api.openproxylist.xyz/http.txt
def get_proxies_listv1(url):
    proxy_url = "https://api.openproxylist.xyz/http.txt"
    count = 0
    dlist = []
    target = 1
    while count < target:
        s = requests.session()
        response = s.get(proxy_url, timeout=3)
        if response.status_code == 200:
            proxy_list = [
                "http://" + proxy
                for proxy in response.content.decode("utf-8").strip().split("\n")
            ]
            for item in proxy_list:
                proxy = {"https": item, "http": item}
                # proxy = {"https": item}
                if check_proxy_anonymity(url, headers, proxy):
                    dlist.append(item)
                    count = count + 1
                if count == target:
                    break
            break
        else:
            print("proxy get failed..")
            break
    print(dlist)


# https://getproxy.bzpl.tech/get/
def get_proxies_listv2(url):
    proxy_url = "https://getproxy.bzpl.tech/get/"
    count = 0
    dlist = []
    target = 1
    while count < target:
        s = requests.session()
        time.sleep(random.randint(1, 3))  # 随机休眠
        response = s.get(proxy_url, timeout=3)
        if response.status_code == 200:
            json_str = response.content.decode("utf-8")
            json_data = json.loads(json_str)
            proxy = {
                "https": "http://" + json_data["proxy"],
                "http": "http://" + json_data["proxy"],
            }
            if check_proxy_anonymity(url, headers, proxy):
                dlist.append("http://" + json_data["proxy"])
                count = count + 1
    print(dlist)


# 使用示例
# proxyscrape.com免费proxy: https://api.proxyscrape.com/v3/free-proxy-list/get?request=displayproxies&country=cn&protocol=http&proxy_format=protocolipport&format=text&anonymity=Elite,Anonymous&timeout=3000
# 站大爷免费proxy: https://www.zdaye.com/free/?ip=&adr=&checktime=&sleep=3&cunhuo=&dengji=&nadr=&https=1&yys=&post=&px=


def get_proxies_listv3(proxies_list, url):
    dlist = []

    for item in proxies_list:
        proxy = {"https": item, "http": item}
        if check_proxy_anonymity(url, headers, proxy):
            dlist.append(item)

    df = pd.read_csv("./houseinfo/proxies.csv", names=["proxy"], comment="#")
    pre_proxies = df["proxy"].tolist()
    filtered_list = [item for item in dlist if item not in pre_proxies]
    if len(filtered_list) > 0:
        df_result = pd.DataFrame(filtered_list)
        df_result.to_csv("./houseinfo/proxies.csv", mode="a", header=False, index=False)
    print(dlist)


# url = "http://sh.lianjia.com/xiaoqu/xuhui/pgpgnobp0ep100/"
url = "http://sh.ke.com/xiaoqu/xuhui/pg1cro21/"
proxies_list = [
    "http://195.66.93.188:3128",
    "http://91.26.124.18:3128",
    "http://143.198.241.181:8888",
    "http://4.158.61.222:8080",
    "http://165.155.228.15:9480",
    "http://165.155.230.8:9480",
    "http://165.155.228.14:9400",
    "http://165.155.229.12:9400",
    "http://165.155.229.10:9480",
    "http://165.155.229.13:9400",
    "http://165.155.230.10:9400",
    "http://165.155.228.13:9400",
    "http://165.155.228.16:9400",
    "http://165.155.228.8:9400",
    "http://165.155.230.11:9480",
    "http://165.155.229.9:9480",
    "http://165.155.228.12:9480",
    "http://165.155.228.15:9400",
    "http://165.155.228.18:9480",
    "http://165.155.230.8:9400",
    "http://85.159.230.204:8080",
    "http://165.155.228.10:9480",
    "http://165.155.229.9:9400",
    "http://165.155.228.8:9480",
    "http://165.155.228.13:9480",
    "http://165.155.230.11:9400",
    "http://165.155.230.10:9480",
    "http://165.155.229.11:9400",
    "http://165.155.228.19:9480",
    "http://165.155.230.9:9400",
    "http://35.178.104.4:80",
    "http://165.155.228.18:9400",
    "http://165.155.230.13:9400",
    "http://165.155.228.11:9480",
    "http://165.155.228.10:9400",
    "http://165.155.230.13:9480",
    "http://165.155.229.8:9400",
    "http://165.155.229.10:9400",
    "http://165.155.230.12:9400",
    "http://165.155.228.11:9400",
    "http://104.129.194.46:9401",
    "http://217.52.247.76:1981",
    "http://41.33.14.230:1976",
    "http://176.99.2.43:1081",
    "http://165.155.228.12:9400",
    "http://67.213.212.56:61164",
    "http://165.155.228.17:9400",
    "http://72.10.160.93:26261",
    "http://165.155.228.9:9400",
    "http://45.119.133.218:3128",
    "http://165.155.230.9:9480",
    "http://103.48.70.209:82",
    "http://60.217.33.47:9999",
    "http://124.243.133.226:80",
    "http://209.200.246.237:9595",
    "http://128.199.187.36:9090",
    "http://67.43.236.20:25865",
    "http://185.82.98.73:99",
    "http://165.155.228.9:9480",
    "http://72.10.160.90:31211",
    "http://128.199.253.195:9090",
    "http://52.222.28.135:443",
    "http://128.199.118.49:9090",
    "http://154.90.48.21:9090",
    "http://152.42.178.60:9090",
    "http://152.42.170.187:9090",
    "http://41.33.99.139:8080",
    "http://128.199.254.13:9090",
    "http://67.43.227.227:32751",
    "http://67.43.236.20:4163",
    "http://218.60.0.220:80",
    "http://154.90.49.44:9090",
    "http://136.226.194.151:9480",
    "http://51.159.159.73:80",
    "http://72.10.164.178:20381",
    "http://160.86.242.23:8080",
    "http://77.242.98.39:8080",
    "http://123.126.158.50:80",
    "http://67.43.236.21:18263",
    "http://67.43.227.227:30791",
    "http://43.134.229.98:3128",
    "http://43.134.68.153:3128",
    "http://67.43.236.20:21331",
    "http://104.248.151.93:9090",
    "http://89.46.249.252:5080",
    "http://4.158.175.186:8080",
    "http://67.43.227.228:13085",
    "http://67.43.236.21:2073",
    "http://47.88.59.79:8088",
    "http://177.139.195.10:3128",
    "http://188.166.197.129:3128",
    "http://176.121.48.97:23500",
    "http://165.155.229.11:9480",
    "http://165.155.229.13:9480",
    "http://152.70.235.185:9002",
    "http://165.155.228.14:9480",
    "http://85.132.37.9:1313",
    "http://72.10.160.171:18463",
    "http://67.43.228.251:30225",
    "http://165.155.228.16:9480",
    "http://103.159.194.181:1080",
    "http://88.248.113.25:3310",
    "http://67.43.228.253:21357",
    "http://43.134.33.254:3128",
    "http://91.203.242.66:222",
    "http://41.254.48.190:1976",
    "http://165.155.229.12:9480",
    "http://114.129.2.82:8080",
    "http://174.168.230.75:8118",
    "http://72.10.160.174:10909",
    "http://72.10.160.90:16181",
    "http://72.10.160.90:3525",
    "http://67.43.228.251:6285",
    "http://39.152.55.125:1080",
    "http://38.99.101.101:3128",
    "http://67.43.236.20:29237",
    "http://78.187.15.92:3310",
    "http://38.156.73.60:8080",
    "http://165.155.230.12:9480",
    "http://45.81.146.7:8080",
    "http://67.43.236.20:32247",
    "http://92.45.196.83:3310",
    "http://72.10.160.170:28817",
    "http://67.43.236.20:22613",
    "http://41.128.90.50:1981",
    "http://168.197.130.129:8878",
    "http://146.190.80.158:9090",
    "http://67.43.236.20:16427",
    "http://72.10.160.170:6407",
    "http://67.43.228.253:2511",
    "http://67.43.227.227:3089",
    "http://67.43.228.253:13331",
    "http://138.117.231.131:999",
    "http://122.2.48.121:8080",
    "http://67.43.227.227:32741",
    "http://188.132.222.6:8080",
    "http://67.43.227.226:28729",
    "http://165.155.229.8:9480",
    "http://72.10.160.90:4155",
    "http://67.43.228.251:24531",
    "http://101.255.167.242:8181",
    "http://210.61.207.92:80",
    "http://67.43.227.229:23367",
    "http://154.90.48.152:9090",
    "http://85.172.15.98:80",
    "http://72.10.160.90:16163",
    "http://103.124.196.130:8080",
    "http://185.253.32.26:8080",
    "http://222.127.55.155:8083",
    "http://67.43.236.20:20005",
    "http://128.199.119.67:9090",
    "http://45.71.3.52:999",
    "http://72.10.160.170:7789",
    "http://67.43.228.253:25473",
    "http://72.10.160.173:13311",
    "http://20.44.189.184:3129",
    "http://72.10.160.170:12769",
    "http://35.73.28.87:3128",
    "http://161.34.40.117:3128",
    "http://67.43.228.253:20107",
    "http://103.38.104.224:8989",
    "http://67.43.236.20:14647",
    "http://111.89.146.129:3128",
    "http://67.43.236.20:24069",
    "http://72.10.160.170:31613",
    "http://120.28.204.19:8082",
    "http://72.10.164.178:32661",
    "http://103.193.144.75:8080",
    "http://67.43.227.230:23127",
    "http://72.10.160.170:5465",
    "http://116.80.92.225:3128",
    "http://67.43.228.250:22773",
    "http://177.136.86.5:999",
    "http://67.43.227.227:4731",
    "http://54.212.162.236:3128",
    "http://113.160.155.121:19132",
    "http://161.34.35.175:3128",
    "http://72.10.164.178:1367",
    "http://185.82.96.50:8092",
    "http://72.10.164.178:24035",
    "http://186.215.87.194:30001",
    "http://72.10.164.178:16115",
    "http://67.43.227.227:13857",
    "http://67.43.228.253:2013",
    "http://67.43.236.20:26881",
    "http://72.10.164.178:29739",
    "http://72.10.160.90:13993",
    "http://79.106.108.132:8079",
    "http://171.228.143.179:10089",
    "http://103.143.169.153:84",
    "http://190.225.148.49:3128",
    "http://67.43.227.227:11029",
    "http://72.10.164.178:21313",
    "http://45.236.107.160:999",
    "http://177.54.229.124:9292",
    "http://131.221.43.249:8080",
    "http://209.14.115.197:999",
    "http://187.1.181.124:23500",
    "http://67.43.236.20:16167",
    "http://72.10.160.91:8487",
    "http://103.87.169.194:32650",
    "http://45.179.71.90:3180",
    "http://62.255.223.195:8080",
    "http://67.43.228.251:13495",
    "http://45.174.57.26:999",
    "http://62.3.30.70:8080",
    "http://67.43.227.229:13857",
    "http://94.68.245.147:8080",
    "http://186.215.87.194:30020",
    "http://182.140.146.149:3128",
    "http://82.129.154.218:1976",
    "http://67.43.236.19:9001",
    "http://46.161.194.65:1976",
    "http://45.188.156.217:8088",
    "http://80.194.38.106:3333",
    "http://72.10.164.178:4239",
    "http://72.10.164.178:3073",
    "http://67.43.236.18:26881",
    "http://103.131.19.156:3127",
    "http://177.234.211.63:999",
    "http://171.228.119.39:10089",
    "http://5.252.176.53:3128",
    "http://67.43.228.253:25341",
    "http://164.92.167.4:1194",
    "http://36.93.3.31:8080",
    "http://116.80.82.213:3128",
    "http://194.146.43.39:3128",
    "http://67.43.236.18:11337",
    "http://72.10.160.90:5795",
    "http://103.76.149.198:8082",
    "http://38.9.141.63:8080",
    "http://13.40.46.249:39593",
    "http://198.24.188.138:36750",
    "http://212.83.138.132:37883",
    "http://185.191.236.162:3128",
    "http://124.105.24.80:8082",
    "http://72.10.160.90:29293",
    "http://72.10.164.178:16221",
    "http://59.173.29.184:8118",
    "http://177.12.107.167:443",
    "http://103.199.117.115:8080",
    "http://94.158.155.138:54698",
    "http://36.95.155.74:3126",
    "http://67.43.227.227:1465",
    "http://103.191.218.255:8087",
    "http://8.153.12.119:3128",
    "http://103.239.253.66:8080",
    "http://72.10.160.171:6635",
    "http://110.232.67.44:55443",
    "http://43.153.207.93:3128",
    "http://67.43.227.228:30883",
    "http://103.175.202.34:8090",
    "http://103.247.23.189:8080",
    "http://103.155.197.68:8181",
    "http://49.0.3.172:7777",
    "http://173.249.60.246:14344",
    "http://182.53.143.200:8180",
    "http://67.43.236.22:26881",
    "http://62.201.217.194:8080",
    "http://138.0.231.202:999",
    "http://90.161.186.147:3128",
    "http://67.43.227.227:22757",
    "http://103.191.115.252:83",
    "http://72.10.164.178:5221",
    "http://85.210.203.188:8080",
    "http://101.51.107.187:8080",
    "http://103.165.155.254:2016",
    "http://103.18.77.50:1111",
    "http://103.109.237.18:8080",
    "http://78.188.230.238:3310",
    "http://116.80.84.40:3128",
    "http://129.226.193.16:3128",
    "http://85.210.84.189:8080",
    "http://72.10.160.92:16401",
    "http://119.157.83.34:8080",
    "http://193.233.84.55:1080",
    "http://67.43.228.253:9335",
    "http://202.5.60.46:5020",
    "http://161.34.40.33:3128",
    "http://213.32.104.189:8080",
    "http://146.190.234.198:3128",
    "http://72.10.164.178:11677",
    "http://187.79.146.98:8080",
    "http://223.25.110.193:8080",
    "http://203.138.144.132:3128",
    "http://103.178.42.25:8181",
    "http://110.137.26.233:8080",
    "http://161.34.40.113:3128",
    "http://38.156.72.77:8080",
    "http://193.233.84.95:1080",
    "http://72.10.160.90:23651",
    "http://67.43.227.229:3337",
    "http://188.132.221.189:8080",
    "http://161.34.40.116:3128",
    "http://103.156.233.165:8080",
    "http://103.112.45.46:8080",
    "http://103.164.58.190:8080",
    "http://103.178.42.29:8181",
    "http://118.103.233.235:8080",
    "http://186.113.232.105:8080",
    "http://67.43.227.227:32501",
    "http://41.65.55.10:1981",
    "http://45.175.239.8:999",
    "http://161.34.40.37:3128",
    "http://67.43.228.250:28187",
    "http://177.234.192.231:999",
    "http://36.93.214.253:8080",
    "http://14.241.205.40:8080",
    "http://154.73.109.201:1981",
    "http://103.171.244.47:8088",
    "http://45.180.140.209:8081",
    "http://103.159.194.171:3128",
    "http://161.34.68.133:3128",
    "http://45.70.202.161:999",
    "http://41.33.14.230:1981",
    "http://157.10.3.10:8080",
    "http://85.210.121.11:8080",
    "http://14.102.155.233:3128",
    "http://38.156.191.232:999",
    "http://189.240.60.168:9090",
    "http://43.153.208.148:3128",
    "http://136.233.136.41:48976",
    "http://170.81.131.70:3128",
    "http://200.110.209.16:9080",
    "http://36.37.163.254:8080",
    "http://103.56.157.223:8181",
    "http://212.83.143.147:58691",
    "http://103.187.86.27:8182",
    "http://187.251.222.69:8080",
    "http://72.10.164.178:21693",
    "http://72.10.160.90:2035",
    "http://13.40.46.249:2805",
    "http://67.43.228.253:9863",
    "http://88.255.102.13:8080",
    "http://182.52.131.108:8180",
    "http://103.248.9.154:8080",
    "http://103.158.121.66:1080",
    "http://67.43.228.252:28695",
    "http://103.200.20.56:3128",
    "http://14.143.130.210:80",
    "http://103.118.46.12:32650",
    "http://103.26.110.41:84",
    "http://45.174.79.95:999",
    "http://187.121.156.134:8085",
    "http://203.73.62.104:60808",
    "http://103.132.40.42:8090",
    "http://72.10.160.172:9857",
    "http://47.94.207.215:3128",
    "http://24.152.49.189:999",
    "http://54.39.163.156:3128",
    "http://187.190.99.229:8080",
    "http://67.213.212.52:54170",
    "http://103.106.219.132:1111",
    "http://171.240.117.26:5101",
    "http://178.212.48.80:8080",
    "http://103.177.235.133:84",
    "http://103.153.246.129:3125",
    "http://61.91.162.126:8080",
    "http://115.187.30.171:1111",
    "http://103.154.139.83:8080",
    "http://180.191.59.254:8081",
    "http://102.214.166.1:1981",
    "http://103.170.227.11:82",
    "http://202.154.191.234:9933",
    "http://67.43.236.19:7647",
    "http://95.181.46.130:8123",
    "http://85.62.10.91:8080",
    "http://202.137.8.149:8080",
    "http://191.252.191.254:3128",
    "http://152.53.19.8:3128",
    "http://47.90.205.231:33333",
    "http://177.184.199.36:80",
    "http://103.159.194.249:8080",
    "http://103.153.246.46:8080",
    "http://103.47.228.66:8080",
    "http://72.10.160.91:4579",
    "http://51.195.200.115:31280",
    "http://45.189.117.199:999",
    "http://94.43.164.242:8080",
    "http://72.10.164.178:12463",
    "http://181.225.96.137:999",
    "http://47.108.217.224:443",
    "http://103.172.42.111:8080",
    "http://190.61.101.72:8080",
    "http://207.183.236.50:32185",
    "http://185.138.120.109:8080",
    "http://101.51.55.153:8080",
    "http://181.57.131.122:8080",
    "http://190.110.34.24:999",
    "http://67.43.227.227:30883",
    "http://20.26.249.29:8080",
    "http://193.233.84.75:1080",
    "http://154.0.14.116:3128",
    "http://190.94.212.36:999",
    "http://67.43.227.230:10123",
    "http://103.105.76.100:8080",
    "http://103.191.196.47:3127",
    "http://45.187.105.197:8080",
    "http://98.147.60.146:48678",
    "http://188.132.222.55:8080",
    "http://160.22.6.140:8080",
    "http://72.10.160.91:15069",
    "http://131.196.219.128:8080",
    "http://82.180.145.140:3128",
    "http://47.252.29.28:11222",
    "http://187.73.225.96:777",
    "http://38.41.0.167:999",
    "http://147.75.122.245:999",
    "http://103.154.77.204:8080",
    "http://72.10.160.92:1391",
    "http://182.50.65.145:8080",
    "http://72.10.164.178:25733",
    "http://186.38.106.25:3128",
    "http://157.230.84.46:3128",
    "http://185.200.37.248:8080",
    "http://45.229.56.64:999",
    "http://67.43.227.228:13317",
    "http://72.10.164.178:28975",
    "http://72.10.164.178:13061",
    "http://103.179.218.5:1080",
    "http://36.66.111.81:8080",
    "http://177.36.14.137:8080",
    "http://103.176.116.109:10000",
    "http://72.10.160.172:18681",
    "http://103.189.197.75:8181",
    "http://103.173.128.54:8080",
    "http://103.155.20.61:8082",
    "http://183.242.69.118:3218",
    "http://103.168.44.191:8083",
    "http://180.190.200.77:8082",
    "http://185.113.139.70:3128",
    "http://181.209.82.202:999",
    "http://148.72.165.7:30118",
    "http://80.80.163.190:46276",
    "http://165.16.27.43:1976",
    "http://193.233.84.118:1080",
    "http://187.190.127.212:8081",
    "http://112.201.189.202:8082",
    "http://72.10.164.178:14709",
    "http://189.100.247.109:8080",
    "http://103.78.36.116:8080",
    "http://185.100.47.105:443",
    "http://103.126.86.200:3127",
    "http://176.236.232.50:9090",
    "http://72.10.160.90:25763",
    "http://111.1.61.47:3128",
    "http://103.133.63.135:8181",
    "http://103.141.20.158:8181",
    "http://58.19.22.61:3128",
    "http://203.150.166.174:8080",
    "http://165.16.46.215:8080",
    "http://179.60.235.250:8096",
    "http://38.183.146.97:8090",
    "http://161.49.176.173:1337",
    "http://185.44.26.217:43097",
    "http://103.80.116.150:8080",
    "http://46.166.165.33:4003",
    "http://103.112.212.57:83",
    "http://67.43.236.20:4861",
    "http://103.169.129.4:1111",
    "http://222.127.55.214:5050",
    "http://67.43.228.253:12879",
    "http://103.84.177.246:8084",
    "http://72.10.160.94:27255",
    "http://36.94.47.59:4480",
    "http://103.176.96.140:8082",
    "http://103.81.158.130:8080",
    "http://194.87.199.217:3128",
    "http://78.189.212.252:3310",
    "http://38.51.243.189:9991",
    "http://188.132.222.230:8080",
    "http://72.10.160.90:15897",
    "http://190.104.20.84:8080",
    "http://103.78.215.253:8080",
    "http://77.52.187.199:10000",
    "http://103.118.175.200:3127",
    "http://36.152.150.243:8081",
    "http://125.99.106.250:3128",
    "http://110.34.1.180:32650",
    "http://185.125.169.24:8118",
    "http://103.165.155.163:1111",
    "http://49.254.250.170:80",
    "http://111.89.146.125:3128",
    "http://103.147.118.237:8080",
    "http://103.125.38.82:8080",
    "http://103.84.208.170:8080",
    "http://148.251.86.76:16379",
    "http://103.70.93.77:8080",
    "http://201.144.25.10:8080",
    "http://14.97.32.152:80",
    "http://200.125.170.20:999",
    "http://181.209.82.196:999",
    "http://180.178.98.91:2526",
    "http://45.230.39.98:999",
    "http://27.147.131.41:58080",
    "http://110.232.67.45:55443",
    "http://128.199.121.61:9090",
    "http://116.97.9.74:5101",
    "http://118.31.1.154:80",
    "http://192.145.173.101:8080",
    "http://77.242.30.9:8088",
    "http://102.68.128.212:8080",
    "http://72.10.160.171:1887",
    "http://46.161.195.182:8080",
    "http://119.92.188.29:8080",
    "http://43.224.116.125:8080",
    "http://103.26.108.118:84",
    "http://126.209.13.226:8082",
    "http://170.81.77.132:2222",
    "http://37.120.192.154:8080",
    "http://72.10.160.171:31429",
    "http://212.252.73.29:8080",
    "http://103.123.120.121:8080",
    "http://181.114.62.1:8085",
    "http://103.170.131.42:8080",
    "http://41.216.186.131:10001",
    "http://103.169.133.42:8080",
    "http://45.65.137.218:999",
    "http://147.75.34.103:10001",
    "http://157.20.218.31:8080",
    "http://103.200.17.10:8088",
    "http://43.249.224.172:83",
    "http://103.139.242.181:83",
    "http://103.170.97.209:7777",
    "http://103.88.239.118:84",
    "http://202.154.12.144:7777",
    "http://82.200.205.126:8081",
    "http://15.206.25.41:3128",
    "http://177.200.80.6:11221",
    "http://102.134.181.142:9999",
    "http://111.89.146.127:3128",
    "http://152.32.64.43:8095",
    "http://181.143.181.34:8080",
    "http://181.13.53.38:8081",
    "http://84.255.40.228:8998",
    "http://103.148.48.97:8080",
    "http://36.88.125.36:8080",
    "http://129.205.198.122:8080",
    "http://67.43.227.228:4913",
    "http://103.180.196.141:8080",
    "http://67.43.228.253:13367",
    "http://103.166.10.17:8181",
    "http://67.43.227.227:1067",
    "http://180.56.193.13:8080",
    "http://186.250.29.225:8080",
    "http://102.67.101.250:8080",
    "http://189.240.60.171:9090",
    "http://203.29.27.212:7777",
    "http://36.95.12.154:8080",
    "http://43.245.93.193:53805",
    "http://186.96.101.75:999",
    "http://212.115.232.79:31280",
    "http://119.93.43.16:8082",
    "http://143.0.243.80:8080",
    "http://203.104.34.144:3128",
    "http://103.48.69.54:83",
    "http://182.253.68.150:80",
    "http://191.102.248.7:8085",
    "http://103.122.0.114:8181",
    "http://103.162.154.3:8888",
    "http://45.188.76.130:999",
    "http://103.180.122.52:8091",
    "http://41.65.236.48:1976",
    "http://129.222.202.169:80",
    "http://179.49.113.230:999",
    "http://121.200.48.58:8080",
    "http://103.75.96.142:1111",
    "http://131.0.207.140:8080",
    "http://27.123.1.46:3128",
]
get_proxies_listv3(proxies_list, url)
# get_proxies_listv2(url)
# get_proxies_listv1(url)
